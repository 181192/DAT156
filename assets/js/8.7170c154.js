(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{174:function(e,t,r){"use strict";r.r(t);var i=r(0),n=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"uke-4-dypt-inn-i-skyene"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#uke-4-dypt-inn-i-skyene","aria-hidden":"true"}},[e._v("#")]),e._v(" Uke 4 - Dypt inn i skyene")]),e._v(" "),r("h2",{attrs:{id:"mandag"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mandag","aria-hidden":"true"}},[e._v("#")]),e._v(" Mandag")]),e._v(" "),r("p",[e._v("I dag har jeg jobbet videre med å få koblet sammen applikasjonen som kjører i Kubernetes klusteret og Prometheus. Utfordringen var å få self-discovery funksjonaliteten til Prometheus til å "),r("em",[e._v("scrape")]),e._v(" applikasjonen vår på "),r("code",[e._v("<url>:8090/metrics")]),e._v(". Dette er viktig å få til at den blir automatisk oppdaget, på grunn av når man kjører applikasjoner i Kubernetes, kommer det til å bli laget og fjernet kontainerer dynamisk ettersom Kubernetes klusteret skalerer etter behov. Da blir det umulig å statisk konfigurere dette.")]),e._v(" "),r("p",[e._v("Jeg fikk sammen med en kollega Prometheus til å fungere, da brukte jeg litt tid på å konfigurere ett par visualiseringer i Grafana. Prometheus har sitt eget spørrespråk for å hente ut data, så her er det en del å sette seg inn i.")]),e._v(" "),r("p",[e._v("Jeg begynte også å plukke opp tråden fra forrige uke med Azure Artifacts, vi er nødt til å fjerne oss med Nexus Repository hvor vi nå lagrer artifacts som bibliotek "),r("code",[e._v("jar")]),e._v(" filer og "),r("code",[e._v("pom.xml")]),e._v(". Fordi Nexus serveren kjøres på intern nettverket vårt, og vi ønsker ikke å åpne det opp. Når Azure Artifacts er oppe og kjører kan vi snart teste med flere moduler i klusteret.")]),e._v(" "),r("p",[e._v("For å kunne benytte seg av Azure Artifacts med Maven må det settes opp en "),r("code",[e._v("settings.xml")]),e._v(" fil med autentisering mot selve repositoryet. Jeg vurderer å lage et docker image for å sette opp all konfigurasjonen, det samme som jeg gjorde med Azure- "),r("code",[e._v("kubectl")]),e._v("-og-Helm docker imaget. Da tar det mindre til å sette opp flere pipelines i bitbucket.")])])}],!1,null,null,null);n.options.__file="README.md";t.default=n.exports}}]);